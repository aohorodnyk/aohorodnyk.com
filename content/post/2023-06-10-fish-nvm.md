---
title: "Node.js version management (nvm) with Fish shell"
description: "This blog offers a solution to seamlessly integrate Node.js version management (nvm) with the Fish shell, enhancing its user experience."
author: "Anton Ohorodnyk"
date: "2023-06-10T15:00:53-07:00"
type: "post"
---
## Introduction

This article continues the series of posts on [Fish shell][fish] and its integration with popular tools. The [previous one][fish-virtualenv] was about [Python][python]'s [virtualenv][virtualenv].

In this article, I'm offering a simple solution for automatic [Node.js][nodejs] version management with [Fish shell][fish], steering clear of resource-intensive frameworks like [oh-my-fish][omf] that often slow down the shell.

## Node.js version management (nvm)

[Node.js][nodejs] is a popular JavaScript runtime environment that allows you to run JavaScript code outside of a browser. It is used for developing server-side applications, command-line tools, and even desktop and mobile applications.

[nvm][nvm] is a popular tool for managing multiple versions of [Node.js][nodejs] on a single machine. It allows you to install and switch between different versions of [Node.js][nodejs] with a single command.

[nvm][nvm] was built for [Bash][bash] and [Zsh][zsh] shells. It is not compatible with [Fish shell][fish] out of the box. There are several solutions for integrating [nvm][nvm] with [Fish shell][fish], but most of them are either too complex or too resource-intensive.

> For example I've tried to use an NVM recreated in [Fish shell][fish] but it did not work for me well and did not solve the main task by switching between [Node.js][nodejs] versions automatically when I change the directory based on the `.nvmrc` file.

## Solution

### Task

The task is to automatically switch between [Node.js][nodejs] versions when you change the directory based on the `.nvmrc` file.

Why not `.node-version`? Because `.nvmrc` file supports more options like `iojs` and `lts/*`. Also, `.nvmrc` is a standard for [nvm][nvm].

### Implementation

The [implementation][nvmrc] as usual is very simple. It does not introduce many dependencies or complex logic. It is just a few lines of code that do the job.

### Installation

As a minimalist plugin manager for Fish, I recommend [fisher][fisher]. I've created a plugin that can be installed via [fisher][fisher] and integrated into any Fish environment. If there are any reasons why you don't want to use Fisher, you can just copy-paste `nvm.fish` files from all irectories to your `~/.config/fish/` in respective ones.

To install the plugin with [fisher][fisher], run the following command:

```fish
fisher add aohorodnyk/fish-nvm
```

### Usage

The plugin will automatically switch between [Node.js][nodejs] versions when you change the directory based on the `.nvmrc` file. If you don't have the required version of [Node.js][nodejs] installed, it will be installed automatically.

#### Configuration

The plugin does not require any configuration. However, you can configure it by setting the following environment variables:

* `nvmrc_enable` (default: `yes`): Enables or disables Fish NVM. Set to `no` to disable.
* `nvmrc_announce` (default: `yes`): Enables or disables the announcement of the Node.js version change. Set to `no` to disable.

## Conclusion

Don't be apprehensive about using the [Fish shell][fish]. It's a versatile, fast, and intuitive shell, making it a worthy alternative to bash and zsh.

Contributing to open-source is an excellent way to learn, help others, and contribute to making the technological world better and simpler for everyone.

[fish]: https://fishshell.com/
[virtualenv]: https://virtualenv.pypa.io/
[fish-virtualenv]: https://aohorodnyk.github.io/post/2023-06-10-fish-virtualenv/
[nvmrc]: https://github.com/aohorodnyk/fish-nvm
[python]: https://www.python.org/
[fisher]: https://github.com/jorgebucaran/fisher
[nodejs]: https://nodejs.org/
[nvm]: https://github.com/nvm-sh/nvm
[bash]: https://www.gnu.org/software/bash/
[zsh]: https://www.zsh.org/
